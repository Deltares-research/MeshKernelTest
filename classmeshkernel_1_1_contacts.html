<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MeshKernel: meshkernel::Contacts Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MeshKernel
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemeshkernel.html">meshkernel</a></li><li class="navelem"><a class="el" href="classmeshkernel_1_1_contacts.html">Contacts</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classmeshkernel_1_1_contacts-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">meshkernel::Contacts Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class describing an 1d-2d contacts.  
 <a href="classmeshkernel_1_1_contacts.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_contacts_8hpp_source.html">Contacts.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a926fb2f9ed28702bcdcbc8b1d509b9fc"><td class="memItemLeft" align="right" valign="top"><a id="a926fb2f9ed28702bcdcbc8b1d509b9fc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#a926fb2f9ed28702bcdcbc8b1d509b9fc">Contacts</a> ()=default</td></tr>
<tr class="memdesc:a926fb2f9ed28702bcdcbc8b1d509b9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a926fb2f9ed28702bcdcbc8b1d509b9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf763567d4440b3a12706b417956fe16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#adf763567d4440b3a12706b417956fe16">Contacts</a> (std::shared_ptr&lt; <a class="el" href="classmeshkernel_1_1_mesh1_d.html">Mesh1D</a> &gt; mesh1d, std::shared_ptr&lt; <a class="el" href="classmeshkernel_1_1_mesh2_d.html">Mesh2D</a> &gt; mesh2d, const std::vector&lt; bool &gt; &amp;oneDNodeMask)</td></tr>
<tr class="memdesc:adf763567d4440b3a12706b417956fe16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor taking the 1d and 2d meshes to connect.  <a href="classmeshkernel_1_1_contacts.html#adf763567d4440b3a12706b417956fe16">More...</a><br /></td></tr>
<tr class="separator:adf763567d4440b3a12706b417956fe16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67430b95780e1654e2ee093ffa8473c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#a67430b95780e1654e2ee093ffa8473c7">ComputeSingleConnections</a> (const <a class="el" href="classmeshkernel_1_1_polygons.html">Polygons</a> &amp;polygons)</td></tr>
<tr class="memdesc:a67430b95780e1654e2ee093ffa8473c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes 1d-2d connections, where every single 1d node is connected to one 2d face circumcenter (ggeo_make1D2Dinternalnetlinks_dll)  <a href="classmeshkernel_1_1_contacts.html#a67430b95780e1654e2ee093ffa8473c7">More...</a><br /></td></tr>
<tr class="separator:a67430b95780e1654e2ee093ffa8473c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb8172f5eb928046c857383384fc1f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#adfb8172f5eb928046c857383384fc1f8">ComputeMultipleConnections</a> ()</td></tr>
<tr class="memdesc:adfb8172f5eb928046c857383384fc1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes 1d-2d connections, where a single 1d node is connected to multiple 2d face circumcenters (ggeo_make1D2Dembeddedlinks_dll)  <a href="classmeshkernel_1_1_contacts.html#adfb8172f5eb928046c857383384fc1f8">More...</a><br /></td></tr>
<tr class="separator:adfb8172f5eb928046c857383384fc1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007a7ea43735d7eaa471ffff80310ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#a007a7ea43735d7eaa471ffff80310ead">ComputeConnectionsWithPolygons</a> (const <a class="el" href="classmeshkernel_1_1_polygons.html">Polygons</a> &amp;polygons)</td></tr>
<tr class="memdesc:a007a7ea43735d7eaa471ffff80310ead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes 1d-2d connections, where a 2d face per polygon is connected to the closest 1d node (ggeo_make1D2Droofgutterpipes_dll)  <a href="classmeshkernel_1_1_contacts.html#a007a7ea43735d7eaa471ffff80310ead">More...</a><br /></td></tr>
<tr class="separator:a007a7ea43735d7eaa471ffff80310ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad576f3bdd0709bfaae5f4bd455ceb64f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#ad576f3bdd0709bfaae5f4bd455ceb64f">ComputeConnectionsWithPoints</a> (const std::vector&lt; <a class="el" href="structmeshkernel_1_1_point.html">Point</a> &gt; &amp;points)</td></tr>
<tr class="memdesc:ad576f3bdd0709bfaae5f4bd455ceb64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes 1d-2d connections, where 1d nodes are connected to the 2d faces mass centers containing the input point (ggeso_make1D2Dstreetinletpipes_dll)  <a href="classmeshkernel_1_1_contacts.html#ad576f3bdd0709bfaae5f4bd455ceb64f">More...</a><br /></td></tr>
<tr class="separator:ad576f3bdd0709bfaae5f4bd455ceb64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2f0568984a2d1be32405da5ad69964"><td class="memItemLeft" align="right" valign="top"><a id="a0d2f0568984a2d1be32405da5ad69964"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#a0d2f0568984a2d1be32405da5ad69964">ComputeBoundaryConnections</a> ()</td></tr>
<tr class="memdesc:a0d2f0568984a2d1be32405da5ad69964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes 1d-2d connections, where 1d nodes are connected to the closest 2d faces at the boundary (ggeo_make1D2DRiverLinks_dll) <br /></td></tr>
<tr class="separator:a0d2f0568984a2d1be32405da5ad69964"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aec43d442a7813e0ed828e53e8053364e"><td class="memItemLeft" align="right" valign="top"><a id="aec43d442a7813e0ed828e53e8053364e"></a>
std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#aec43d442a7813e0ed828e53e8053364e">m_mesh2dIndices</a></td></tr>
<tr class="memdesc:aec43d442a7813e0ed828e53e8053364e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The indices of the connected 2-d faces. <br /></td></tr>
<tr class="separator:aec43d442a7813e0ed828e53e8053364e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509ac58fcad8f8abf8edc9de53b9f7cb"><td class="memItemLeft" align="right" valign="top"><a id="a509ac58fcad8f8abf8edc9de53b9f7cb"></a>
std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeshkernel_1_1_contacts.html#a509ac58fcad8f8abf8edc9de53b9f7cb">m_mesh1dIndices</a></td></tr>
<tr class="memdesc:a509ac58fcad8f8abf8edc9de53b9f7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The indices of the connected 1-d nodes. <br /></td></tr>
<tr class="separator:a509ac58fcad8f8abf8edc9de53b9f7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class describing an 1d-2d contacts. </p>
<p>The responsibility of the <a class="el" href="classmeshkernel_1_1_contacts.html" title="A class describing an 1d-2d contacts.">Contacts</a> class is connecting a 1d mesh to a 2d mesh. The class has a reference to the <a class="el" href="classmeshkernel_1_1_mesh1_d.html" title="A class derived from Mesh, which describes 1d meshes.">Mesh1D</a> and the <a class="el" href="classmeshkernel_1_1_mesh2_d.html" title="A class derived from Mesh, which describes unstructures 2d meshes.">Mesh2D</a> instances that will be connected. A connection is defined by the indices of the connected 1d node and 2d face. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adf763567d4440b3a12706b417956fe16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf763567d4440b3a12706b417956fe16">&#9670;&nbsp;</a></span>Contacts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">meshkernel::Contacts::Contacts </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmeshkernel_1_1_mesh1_d.html">Mesh1D</a> &gt;&#160;</td>
          <td class="paramname"><em>mesh1d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classmeshkernel_1_1_mesh2_d.html">Mesh2D</a> &gt;&#160;</td>
          <td class="paramname"><em>mesh2d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>oneDNodeMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor taking the 1d and 2d meshes to connect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh1d</td><td>The mesh1d to connect </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mesh2d</td><td>The mesh2d to connect </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oneDNodeMask</td><td>The mask used for masking 1d nodes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad576f3bdd0709bfaae5f4bd455ceb64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad576f3bdd0709bfaae5f4bd455ceb64f">&#9670;&nbsp;</a></span>ComputeConnectionsWithPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meshkernel::Contacts::ComputeConnectionsWithPoints </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structmeshkernel_1_1_point.html">Point</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes 1d-2d connections, where 1d nodes are connected to the 2d faces mass centers containing the input point (ggeso_make1D2Dstreetinletpipes_dll) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">points</td><td>The points to connect </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a007a7ea43735d7eaa471ffff80310ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007a7ea43735d7eaa471ffff80310ead">&#9670;&nbsp;</a></span>ComputeConnectionsWithPolygons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meshkernel::Contacts::ComputeConnectionsWithPolygons </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmeshkernel_1_1_polygons.html">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polygons</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes 1d-2d connections, where a 2d face per polygon is connected to the closest 1d node (ggeo_make1D2Droofgutterpipes_dll) </p>
<p>The algorithms works as follows:</p><ul>
<li>find the 2d face within each polygon closest to a 1d node</li>
<li>per polygon create one connection from the 2d circumcenter to the 1d node <div class="image">
<object type="image/svg+xml" data="ComputeConnectionsWithPolygons.svg" style="pointer-events: none;"></object>
<div class="caption">
1d mesh connecting to 2d mesh using the ComputeConnectionsWithPolygonss algorithm. Connections are shown in red. Polygons in green.</div></div>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polygons</td><td>The polygons to connect (<a class="el" href="classmeshkernel_1_1_polygons.html" title="A class describing polygons.">Polygons</a> class can have multiple polygons) </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="adfb8172f5eb928046c857383384fc1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb8172f5eb928046c857383384fc1f8">&#9670;&nbsp;</a></span>ComputeMultipleConnections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meshkernel::Contacts::ComputeMultipleConnections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes 1d-2d connections, where a single 1d node is connected to multiple 2d face circumcenters (ggeo_make1D2Dembeddedlinks_dll) </p>
<p>Each internal 1d node is connected to multiple 2d faces. This type of connections should be used when the lengths of the 1d mesh edges are considerably larger than the 2d mesh edges and generating a single connection for each 1d node is not representative. In this algorithm, only the internal 1d nodes are connected. The following figure shows a 1d mesh overlapping a 2d mesh. For the node n, the closest 2d faces within a search radius are found and it is determined if those faces cross are crossed by the current 1d edge starting at node n and ending at and n+1. If the answer is positive, a connection is generated between the face and the closest 1d node composing the current 1d edge (i.e. n or n+1). The procedure is repeated for each 1d node. </p><div class="image">
<img src="ComputeMultipleConnections.jpg" alt=""/>
<div class="caption">
1d mesh connecting to 2d mesh using the ComputeMultipleConnections algorithm. Connections are shown in red.</div></div>
 
</div>
</div>
<a id="a67430b95780e1654e2ee093ffa8473c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67430b95780e1654e2ee093ffa8473c7">&#9670;&nbsp;</a></span>ComputeSingleConnections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void meshkernel::Contacts::ComputeSingleConnections </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmeshkernel_1_1_polygons.html">Polygons</a> &amp;&#160;</td>
          <td class="paramname"><em>polygons</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes 1d-2d connections, where every single 1d node is connected to one 2d face circumcenter (ggeo_make1D2Dinternalnetlinks_dll) </p>
<p>Each non-boundary 1d node is connected to single 2d face. The figure below shows two 2d meshes, a 1d mesh between them, and the 1d-2d connections (in red). The boundary nodes of the 1d mesh (those sharing only one 1d edge) are not connected to any 2d face. For the 1d nodes not overlapping a 2d mesh, a ray starting from the current node n is computed (dashed blue ray). This ray is normal to the segment connecting the previous (n-1) and next one 1d node (n+1), the connecting segment is shown with a green dashed line. The ray is extended for 5 times the length of the connecting segment. The current 1d node is connected to the first boundary 2d face crossing the ray, first in the left direction and then in the right direction. By doing so a 1d mesh can be connected on the left and right sides of a mesh 2d boundary, for example when the 1d part represents a river and the 2d part the river banks. The 1d nodes overlapping the 2d mesh are directly connected to the face including them. </p><div class="image">
<img src="ComputeSingleConnections.jpg" alt=""/>
<div class="caption">
1d mesh connecting to 2d mesh using the ComputeSingleConnections algorithm. Connections are shown in red.</div></div>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">polygons</td><td>The polygons where the 1d-2d connections are generated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/MeshKernel/MeshKernel/include/MeshKernel/<a class="el" href="_contacts_8hpp_source.html">Contacts.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
